/*!
 * Web Analytics(hwa-js-api-1.5.0_2022-1-29,builded by f00333362 t33)
 */
var ha_js_init_time=(typeof window.performance!="undefined")?window.performance.timing.navigationStart:(typeof hwa_pv_start_time!="undefined"?hwa_pv_start_time:new Date().getTime());var asyn_pv_sendtime=ha_js_init_time;function isIE(){if(window.navigator.userAgent.indexOf("MSIE")>-1){return true}else{return false}}function isIE8(){if(window.navigator.userAgent.indexOf("MSIE")>-1&&window.navigator.userAgent.indexOf("Trident/4")>-1){return true}else{return false}}function isFF(){if(window.navigator.userAgent.indexOf("Firefox")>-1){return true}else{return false}}function guid(){return"HWA^"+Date.parse(new Date())+"^"+String(Math.random()).substring(2)}function _getClassType(obj,str){if(obj){return !str?typeof obj:typeof obj==str}var type=Object.prototype.toString.call(obj).slice(8,-1).toLowerCase();return !str?type:type==str}function _extend(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&_getClassType(target,"function")){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(_getClassType(copy,"object")||(copyIsArray=_getClassType(copy,"array")))){if(copyIsArray){copyIsArray=false;clone=src&&_getClassType(src,"array")?src:[]}else{clone=src&&_getClassType(src,"object")?src:{}}target[name]=_extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target}if(isFF()){try{if(typeof(HTMLElement)!="undefined"&&!window.opera){HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent});HTMLElement.prototype.__defineSetter__("innerText",function(setValue){this.textContent=setValue})}}catch(e){}}var hwa_source_this=this;var perfTimer=null;(function(windowAlias){meld.before=adviceApi("before");meld.around=adviceApi("around");meld.on=adviceApi("on");meld.afterReturning=adviceApi("afterReturning");meld.afterThrowing=adviceApi("afterThrowing");meld.after=adviceApi("after");meld.joinpoint=joinpoint;meld.add=function(){return meld.apply(null,arguments)};function meld(target,pointcut,aspect){var pointcutType,remove;if(arguments.length<3){return addAspectToFunction(target,pointcut)}else{if(isArray(pointcut)){remove=addAspectToAll(target,pointcut,aspect)}else{pointcutType=typeof pointcut;if(pointcutType==="string"){if(typeof target[pointcut]==="function"){remove=addAspectToMethod(target,pointcut,aspect)}}else{if(pointcutType==="function"){remove=addAspectToAll(target,pointcut(target),aspect)}else{remove=addAspectToMatches(target,pointcut,aspect)}}}return remove}}function Advisor(target,func){var orig,advisor,advised;this.target=target;this.func=func;this.aspects={};orig=this.orig=target[func];advisor=this;advised=this.advised=function(){var context,joinpoint,args,callOrig,afterType;if(this instanceof advised){context=objectCreate(orig.prototype);callOrig=function(args){return applyConstructor(orig,context,args)}}else{context=this;callOrig=function(args){return orig.apply(context,args)}}args=slice.call(arguments);afterType="afterReturning";joinpoint=pushJoinpoint({target:context,method:func,args:args});try{console.info("hwa-jalor:",advisor.func,"方法");advisor._callSimpleAdvice("before",context,args);try{joinpoint.result=advisor._callAroundAdvice(context,func,args,callOrigAndOn)}catch(e){joinpoint.result=joinpoint.exception=e;afterType="afterThrowing"}args=[joinpoint.result];callAfter(afterType,args);callAfter("after",args);if(joinpoint.exception){throw joinpoint.exception}return joinpoint.result}finally{popJoinpoint()}function callOrigAndOn(args){var result=callOrig(args);advisor._callSimpleAdvice("on",context,args);return result}function callAfter(afterType,args){advisor._callSimpleAdvice(afterType,context,args)}};defineProperty(advised,"_advisor",{value:advisor,configurable:true})}Advisor.prototype={_callSimpleAdvice:function(adviceType,context,args){var iterator,advices;advices=this.aspects[adviceType];if(!advices){return}iterator=iterators[adviceType];iterator(this.aspects[adviceType],function(aspect){var advice=aspect.advice;advice&&advice.apply(context,args)})},_callAroundAdvice:function(context,method,args,applyOriginal){var len,aspects;aspects=this.aspects.around;len=aspects?aspects.length:0;function callNext(i,args){return i<0?applyOriginal(args):callAround(aspects[i].advice,i,args)}function callAround(around,i,args){var proceedCalled,joinpoint;proceedCalled=0;joinpoint=pushJoinpoint({target:context,method:method,args:args,proceed:proceedCall,proceedApply:proceedApply,proceedCount:proceedCount});try{return around.call(context,joinpoint)}finally{popJoinpoint()}function proceedCount(){return proceedCalled}function proceedCall(){return proceed(arguments.length>0?slice.call(arguments):args)}function proceedApply(newArgs){return proceed(newArgs||args)
}function proceed(args){proceedCalled++;return callNext(i-1,args)}}return callNext(len-1,args)},add:function(aspect){var advisor,aspects;advisor=this;aspects=advisor.aspects;insertAspect(aspects,aspect);return{remove:function(){var remaining=removeAspect(aspects,aspect);if(!remaining){advisor.remove()}}}},remove:function(){delete this.advised._advisor;this.target[this.func]=this.orig}};Advisor.get=function(target,methodName){if(!(methodName in target)){return}var advisor,advised;advised=target[methodName];if(typeof advised!=="function"){throw new Error("Advice can only be applied to functions: "+methodName)}advisor=advised._advisor;if(!advisor){advisor=new Advisor(target,methodName);target[methodName]=advisor.advised}return advisor};function addAspectToFunction(func,aspect){var name,placeholderTarget;name=func.name||"_";placeholderTarget={};placeholderTarget[name]=func;addAspectToMethod(placeholderTarget,name,aspect);return placeholderTarget[name]}function addAspectToMethod(target,method,aspect){var advisor=Advisor.get(target,method);return advisor&&advisor.add(aspect)}function addAspectToAll(target,methodArray,aspect){var removers,added,f,i;removers=[];i=0;while((f=methodArray[i++])){added=addAspectToMethod(target,f,aspect);added&&removers.push(added)}return createRemover(removers)}function addAspectToMatches(target,pointcut,aspect){var removers=[];for(var p in target){if(typeof target[p]=="function"&&pointcut.test(p)){removers.push(addAspectToMethod(target,p,aspect))}}return createRemover(removers)}function createRemover(removers){return{remove:function(){for(var i=removers.length-1;i>=0;--i){removers[i].remove()}}}}function adviceApi(type){return function(target,method,adviceFunc){var aspect={};if(arguments.length===2){aspect[type]=method;return meld(target,aspect)}else{aspect[type]=adviceFunc;return meld(target,method,aspect)}}}function insertAspect(aspectList,aspect){var adviceType,advice,advices;for(adviceType in iterators){advice=aspect[adviceType];if(advice){advices=aspectList[adviceType];if(!advices){aspectList[adviceType]=advices=[]}advices.push({aspect:aspect,advice:advice})}}}function removeAspect(aspectList,aspect){var adviceType,advices,remaining;remaining=0;for(adviceType in iterators){advices=aspectList[adviceType];if(advices){remaining+=advices.length;for(var i=advices.length-1;i>=0;--i){if(advices[i].aspect===aspect){advices.splice(i,1);--remaining;break}}}}return remaining}function applyConstructor(C,instance,args){try{defineProperty(instance,"constructor",{value:C,enumerable:false})}catch(e){}C.apply(instance,args);return instance}var currentJoinpoint,joinpointStack,ap,prepend,append,iterators,slice,isArray,defineProperty,objectCreate;joinpointStack=[];ap=Array.prototype;prepend=ap.unshift;append=ap.push;slice=ap.slice;isArray=Array.isArray||function(it){return Object.prototype.toString.call(it)=="[object Array]"};defineProperty=definePropertyWorks()?Object.defineProperty:function(obj,prop,descriptor){obj[prop]=descriptor.value};objectCreate=Object.create||(function(){function F(){}return function(proto){F.prototype=proto;var instance=new F();F.prototype=null;return instance}}());iterators={before:forEachReverse,around:false};iterators.on=iterators.afterReturning=iterators.afterThrowing=iterators.after=forEach;function forEach(array,func){for(var i=0,len=array.length;i<len;i++){func(array[i])}}function forEachReverse(array,func){for(var i=array.length-1;i>=0;--i){func(array[i])}}function joinpoint(){return currentJoinpoint}function pushJoinpoint(newJoinpoint){joinpointStack.push(currentJoinpoint);return currentJoinpoint=newJoinpoint}function popJoinpoint(){return currentJoinpoint=joinpointStack.pop()}function definePropertyWorks(){try{return"x" in Object.defineProperty({},"x",{})}catch(e){}}windowAlias.hwa_meld=meld})(window);if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)
}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}(window));var HA=HA||(function(){var expireDateTime,plugins={},documentAlias=document,navigatorAlias=navigator,screenAlias=screen,windowAlias=window,pageId=null,pageIdBeforeHashChange=null,jalorPageForwardFlag=false,jalorPageForwardFlag4PV=false,urlBeforeHashChange=null,urlRefBeforeHashChange=null,configiFrameTrackingDisabled=false,dis_parent=false,documentTileBeforeHashchange=null,hasLoaded=false,registeredOnLoadHandlers=[],registeredOnUnloadHandlers=[],encodeWrapper=windowAlias.encodeURIComponent,decodeWrapper=windowAlias.decodeURIComponent,urldecode=unescape,asyncTracker,perfInfo,i,ha_js_parent_pid,ha_hashchange_time;var hasiFrame=false;function isDefined(property){return"undefined"!==typeof property}function hwaLog(message){if(typeof console!="undefined"&&typeof console.log!="undefined"){console.log(message)}}function isFunction(property){return typeof property==="function"}function isObject(property){return typeof property==="object"}function isString(property){return typeof property==="string"||property instanceof String}function mixin(){var target=arguments[0];var len=arguments.length;for(var i=1;i<len;i++){var src=arguments[i];if((typeof src).toLowerCase()!="object"){return}for(var p in src){if(typeof src[p]!="undefined"&&src[p]!="undefined"){target[p]=src[p]}}}return target}function preventDefault(e){e.preventDefault&&e.preventDefault();e.returnValue=false}function apply(){var i,f,parameterArray;for(i=0;i<arguments.length;i+=1){parameterArray=arguments[i];f=parameterArray.shift();if(isString(f)){asyncTracker[f].apply(asyncTracker,parameterArray)}else{f.apply(asyncTracker,parameterArray)}}}function addEventListener(element,eventType,eventHandler,useCapture){if(element.attachEvent){element.attachEvent("on"+eventType,(function(el){return function(){eventHandler.call(el,window.event)}}(element)))}else{element.addEventListener(eventType,eventHandler,useCapture)}element=null;return true}function removeEventListener(element,eventType,eventHandler){if(element.removeEventListener){element.removeEventListener(eventType,eventHandler);return true}if(element.detachEvent){return element.detachEvent("on"+eventType,eventHandler)}element["on"+eventType]=null}function executePluginMethod(methodName,callback){var result="",i,pluginMethod;for(i in plugins){if(Object.prototype.hasOwnProperty.call(plugins,i)){pluginMethod=plugins[i][methodName];if(isFunction(pluginMethod)){result+=pluginMethod(callback)}}}return result}function beforeUnloadHandler(){var now;executePluginMethod("unload");for(i=0;i<registeredOnUnloadHandlers.length;i++){registeredOnUnloadHandlers[i]()}if(expireDateTime){do{now=new Date()}while(now.getTimeAlias()<expireDateTime)}}function loadHandler(){if(!hasLoaded){hasLoaded=true;executePluginMethod("load");for(var i=0;i<registeredOnLoadHandlers.length;i++){registeredOnLoadHandlers[i]()}}return true
}function hashchangeHandler(){getNewiFrame(true);pageIdBeforeHashChange=pageId;urlBeforeHashChange=asyncTracker.getCurrentUrl();urlRefBeforeHashChange=asyncTracker.getReferrerUrl();documentTileBeforeHashchange=asyncTracker.getDocumentTitle();pageId=asyncTracker.getNewPageId();asyncTracker.set("referrer",asyncTracker.getCurrentUrl());asyncTracker.setReferrerUrl(asyncTracker.getCurrentUrl());asyncTracker.set("url",windowAlias.location.href);asyncTracker.setCustomUrl(windowAlias.location.href);asyncTracker.setDocumentTitle(documentAlias.title);asyncTracker.set("page_hierarchy_before",asyncTracker.get("page_hierarchy"));asyncTracker.set("page_hierarchy",null)}function getNewiFrame(hashchange){ha_hashchange_time=hashchange?new Date().getTime():ha_js_init_time;ha_js_parent_pid=sha1(ha_js_init_time+window.location.href+(new Date()-0));hasiFrame=false}function historyChangeHandler(data){pageIdBeforeHashChange=pageId;urlBeforeHashChange=asyncTracker.getCurrentUrl();urlRefBeforeHashChange=asyncTracker.getReferrerUrl();documentTileBeforeHashchange=asyncTracker.getDocumentTitle();pageId=asyncTracker.getNewPageId();asyncTracker.set("referrer",asyncTracker.getCurrentUrl());asyncTracker.setReferrerUrl(asyncTracker.getCurrentUrl());asyncTracker.set("url",windowAlias.location.href);asyncTracker.setCustomUrl(windowAlias.location.href);asyncTracker.setDocumentTitle(documentAlias.title);asyncTracker.trackPageView(data)}function addReadyListener(){var _timer;if(documentAlias.attachEvent){var readyFunc=function(){if(documentAlias.readyState==="complete"){documentAlias.detachEvent("onreadystatechange",readyFunc);loadHandler(true)}};documentAlias.attachEvent("onreadystatechange",readyFunc);if(documentAlias.readyState==="complete"){documentAlias.detachEvent("onreadystatechange",readyFunc);loadHandler(true)}}else{if(documentAlias.addEventListener){addEventListener(documentAlias,"DOMContentLoaded",function ready(){documentAlias.removeEventListener("DOMContentLoaded",ready,false);loadHandler()})}}if(typeof documentAlias.readyState!="undefined"){_timer=setInterval(function(){if(hasLoaded||/loaded|complete/.test(documentAlias.readyState)){clearInterval(_timer);loadHandler()}},500)}addEventListener(windowAlias,"load",loadHandler,false)}function loadScript(src,onLoad){var script=documentAlias.createElement("script");script.type="text/javascript";script.src=src;if(script.readyState){script.onreadystatechange=function(){var state=this.readyState;if(state==="loaded"||state==="complete"){script.onreadystatechange=null;onLoad()}}}else{script.onload=onLoad}documentAlias.getElementsByTagName("head")[0].appendChild(script)}function getReferrer(){var referrer="";try{referrer=windowAlias.top.document.referrer}catch(e){if(windowAlias.parent){try{referrer=windowAlias.parent.document.referrer}catch(e2){referrer=""}}}if(referrer===""){referrer=documentAlias.referrer}return referrer}function getProtocolScheme(url){var e=new RegExp("^([a-z]+):"),matches=e.exec(url);return matches?matches[1]:null}function getHostName(url){var e=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),matches=e.exec(url);return matches?matches[1]:url}function getParameter(url,name){var e=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+)[?])([^#]+)"),matches=e.exec(url),f=new RegExp("(?:^|&)"+name+"=([^&]*)"),result=matches?f.exec(matches[1]):0;return result?decodeWrapper(result[1]):""}function utf8_encode(argString){return urldecode(encodeWrapper(argString))}function sha1(str){var rotate_left=function(n,s){return(n<<s)|(n>>>(32-s))},cvt_hex=function(val){var str="",i,v;for(i=7;i>=0;i--){v=(val>>>(i*4))&15;str+=v.toString(16)}return str},blockstart,i,j,W=[],H0=1732584193,H1=4023233417,H2=2562383102,H3=271733878,H4=3285377520,A,B,C,D,E,temp,str_len,word_array=[];str=utf8_encode(str);str_len=str.length;for(i=0;i<str_len-3;i+=4){j=str.charCodeAt(i)<<24|str.charCodeAt(i+1)<<16|str.charCodeAt(i+2)<<8|str.charCodeAt(i+3);word_array.push(j)}switch(str_len&3){case 0:i=2147483648;break;case 1:i=str.charCodeAt(str_len-1)<<24|8388608;break;case 2:i=str.charCodeAt(str_len-2)<<24|str.charCodeAt(str_len-1)<<16|32768;break;case 3:i=str.charCodeAt(str_len-3)<<24|str.charCodeAt(str_len-2)<<16|str.charCodeAt(str_len-1)<<8|128;break}word_array.push(i);while((word_array.length&15)!==14){word_array.push(0)}word_array.push(str_len>>>29);word_array.push((str_len<<3)&4294967295);for(blockstart=0;blockstart<word_array.length;blockstart+=16){for(i=0;i<16;i++){W[i]=word_array[blockstart+i]}for(i=16;i<=79;i++){W[i]=rotate_left(W[i-3]^W[i-8]^W[i-14]^W[i-16],1)}A=H0;B=H1;C=H2;D=H3;E=H4;for(i=0;i<=19;i++){temp=(rotate_left(A,5)+((B&C)|(~B&D))+E+W[i]+1518500249)&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=20;i<=39;i++){temp=(rotate_left(A,5)+(B^C^D)+E+W[i]+1859775393)&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=40;i<=59;i++){temp=(rotate_left(A,5)+((B&C)|(B&D)|(C&D))+E+W[i]+2400959708)&4294967295;E=D;D=C;C=rotate_left(B,30);B=A;A=temp}for(i=60;i<=79;i++){temp=(rotate_left(A,5)+(B^C^D)+E+W[i]+3395469782)&4294967295;
E=D;D=C;C=rotate_left(B,30);B=A;A=temp}H0=(H0+A)&4294967295;H1=(H1+B)&4294967295;H2=(H2+C)&4294967295;H3=(H3+D)&4294967295;H4=(H4+E)&4294967295}temp=cvt_hex(H0)+cvt_hex(H1)+cvt_hex(H2)+cvt_hex(H3)+cvt_hex(H4);return temp.toLowerCase()}function urlFixup(hostName,href,referrer){if(hostName==="translate.googleusercontent.com"){if(referrer===""){referrer=href}href=getParameter(href,"u");hostName=getHostName(href)}else{if(hostName==="cc.bingj.com"||hostName==="webcache.googleusercontent.com"||hostName.slice(0,5)==="74.6."){href=documentAlias.links[0].href;hostName=getHostName(href)}}return[hostName,href,referrer]}function domainFixup(domain){var dl=domain.length;if(domain.charAt(--dl)==="."){domain=domain.slice(0,dl)}if(domain.slice(0,2)==="*."){domain=domain.slice(1)}return domain}function titleFixup(title){if(!isString(title)){title=title.text||"";var tmp=documentAlias.getElementsByTagName("title");if(tmp&&isDefined(tmp[0])){title=tmp[0].text}}return title}var intranet=true;var autoSendPV=true;var autoSendAjax=true;var autoSendBtnPerf=false;var btnclasses=[/^button$/];var beforeBtnSendFn=null;var autoLinkTracking=true;var apmListener=false;function Tracker(siteId){var registeredHooks={},fields={},mapFields={"siteId":"idsite","page_hierarchy":"hier","action_type":"action","page_title":"dt","url":"url","referrer":"urlref","is_landing_page":"blp","uid":"_id","uid_encrypt":"_idenc","user_id_type":"_ut","session_id":"_sid","page_id":"_pid","data":"data","search_keyword":"s_key","search_category":"s_cat","search_type":"s_t","order_type":"o_t","search_resultsCount":"s_count","search_id":"s_id","search_pageIndex":"s_page_n","search_clickIndex":"s_item_n","search_clickIndex_inpage":"s_item_index","search_clickType":"l_type","search_clickTitle":"l_title","search_clickUrl":"l_href","language":"url_l","goal_id":"idgoal","revenue":"revenue","link_title":"l_title","link_type":"l_type","link_target":"l_target","link_html":"l_html","link_href":"l_href","page_x":"pagex","page_y":"pagey","opr_wf_d":"opr_wf_d","opr_wf_n":"opr_wf_n","opr_wf_s":"opr_wf_s","biz_wf_n":"biz_wf_n","biz_wf_s_s":"biz_wf_s_s","biz_wf_s_n":"biz_wf_s_n","t_d_1":"t_d_1","appn":"appn","appv":"appv"},locationArray=urlFixup(documentAlias.domain,windowAlias.location.href,getReferrer()),domainAlias=domainFixup(locationArray[0]),locationHrefAlias=locationArray[1],configReferrerUrl=locationArray[2],configRequestMethod="GET",configTrackerUrl=("https:"==location.protocol?"https:":"http:")+"//app.huawei.com/hwa-c/",configApiUrl=("https:"==location.protocol?"https:":"http:")+"//w3.huawei.com/hwasite/",configTrackerSiteId=siteId||"",configHierarchy="",configCustomUrl,configTitle=documentAlias.title,configDownloadExtensions="7z|aac|ar[cj]|as[fx]|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|ppt|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xls|xml|z|zip",configHostsAlias=[domainAlias],configIgnoreClasses=[],configDownloadClasses=[],configLinkClasses=[],configTrackerPause=80,configMinimumVisitTime,configHeartBeatTimer,configDiscardHashTag,configCustomData,configCampaignNameParameters=["ha_campaign","ha_campaign","utm_campaign","utm_source","utm_medium"],configCampaignKeywordParameters=["ha_kwd","ha_kwd","utm_term"],configCookieNamePrefix="_ha_",configCookieDomain,configCookiePath="/"+(intranet?location.pathname.split("/")[1]:""),configCookiesDisabled=(typeof g_hwa_configCookiesDisabled!="undefined")?g_hwa_configCookiesDisabled:false,configDoNotTrack,configCountPreRendered,configConversionAttributionFirstReferrer,configVisitorCookieTimeout=63072000000,configSessionCookieTimeout=1800000,configReferralCookieTimeout=15768000000,cookieSecure=documentAlias.location.protocol==="https",customVariables=false,customVariablesPage={},customVariableMaximumLength=200,browserFeatures={},linkTrackingInstalled=false,activityTrackingInstalled=false,lastActivityTime,configIgnore={},beforeRequestFn=function(){},lastButton,lastTarget,hash=sha1,domainHash,visitorUUID,visitorUUIDEncrypt,pageURLBeforeRegenerate,configHaIgnoreClass="ha_ignore",configHaClickClass="hwa-click",configBtnClass=btnclasses||[],perf_event_q=[],perf_send_status="sleeping",perf_ajaxpage_in=0,perf_ajaxpage_out=0,perf_ajaxpage_sended=false,perf_ajaxpage_min_time=0,perf_ajaxpage_max_time=0,perf_ajaxpage_firstloadtime=0,ajaxthreshold_time=0,has_page_ajax_load=true,perf_url_ignore_p=/(\.css)|(only4ssoTimeUpdate)|(services\/jalor\/message)/i;ha_js_parent_pid=ha_js_parent_pid||hash(ha_js_init_time+locationHrefAlias+(new Date()-0));var ha_js_parent_sid,ha_js_parent_url,duration,perf_ifrmae_succeed_flag=false,isnewpagexhr=false,pageLoad,ignoreXHRPattern=false;var _tmp_q=[];function sendPerfQueue(isContinue){try{perf_send_status="sending";var _qlen=perf_event_q.length;for(var i=0;i<_qlen;i++){_tmp_q.push(perf_event_q.shift())}if(perf_event_q.length>0&&!isContinue){perf_send_status="ready";perfTimer=setTimeout(sendPerfQueue,4000)}else{perf_send_status="sleeping"
}if(autoSendAjax){var max_duration=0;var maxResponseEnd=0;if(window.performance&&window.performance.getEntries){var resource=window.performance.getEntriesByType("resource");var holdtime=asyn_pv_sendtime-window.performance.timing.navigationStart;resource.forEach(function(item){if(item.startTime>holdtime&&item.name.indexOf("open/dc?")<0&&item.initiatorType!="xmlhttprequest"){max_duration=item.duration>max_duration?item.duration:max_duration;maxResponseEnd=item.responseEnd>maxResponseEnd?item.responseEnd:maxResponseEnd}})}var ri1=0;var userRealClick_time=0;_tmp_q.forEach(function(item){if((ajaxthreshold_time+20)>(item.ot-asyn_pv_sendtime)){if((ajaxthreshold_time-20)<(item.ot-asyn_pv_sendtime)){userRealClick_time=item.ot-asyn_pv_sendtime-20}}});_tmp_q.forEach(function(item){if(item.ot-asyn_pv_sendtime>0&&item.url.indexOf("hwa")<0){if(userRealClick_time>0){if(userRealClick_time>maxResponseEnd&&userRealClick_time>(item.ot-asyn_pv_sendtime)){ri1=ri1>item.tt?ri1:item.tt}}else{ri1=ri1>item.tt?ri1:item.tt}}});if(ri1==0&&ajaxthreshold_time==0&&perf_ajaxpage_max_time>0){ri1=0+perf_ajaxpage_max_time-asyn_pv_sendtime}if(perf_ajaxpage_in>0&&perf_ajaxpage_in==perf_ajaxpage_out){if((ri1<max_duration)&&(max_duration>0)){ri1=Math.ceil(max_duration)}if(ri1>0){logLink(null,"ajax-pp",{ri1:ri1,utc:0})}perf_ajaxpage_in=0;perf_ajaxpage_out=0;perf_ajaxpage_max_time=0;has_page_ajax_load=false;if(_tmp_q.length>0){logLink(null,"ajax-perf",{data:JSON.stringify(_tmp_q)});_tmp_q.length=0}}else{if(isContinue=="PageComplete"){ri1=new Date()-asyn_pv_sendtime;if((ri1<max_duration)&&(max_duration>0)){ri1=Math.ceil(max_duration)}if(ri1>0){logLink(null,"ajax-pp",{ri1:ri1,utc:0})}perf_ajaxpage_in=0;perf_ajaxpage_out=0;perf_ajaxpage_max_time=0;has_page_ajax_load=false;clearTimeout(perfTimer);if(_tmp_q.length>0){logLink(null,"ajax-perf",{data:JSON.stringify(_tmp_q)});_tmp_q.length=0}}}}}catch(e){}}function getCustomName(name){var ret=null;if(name){var m=name.match(/((metric)|(dimension))(.*)/);if(m&&m[4]){if(m[2]){ret="ri"}else{if(m[3]){ret="rv"}}if(ret){var no=m[4]-0;if(isNaN(no)||no<1||no>10){return null}ret+=no}}}return ret}function mapData(data){var ret={};for(var o in data){var name=mapFields[o];if(o=="search_filters"){for(var i=1;i<=data[o].length;i++){ret["s_f"+i]=data[o][i-1]}}var custom_name=getCustomName(o);if(custom_name){ret[custom_name]=data[o];continue}if(name){ret[name]=data[o]}}return ret}function setCookie(cookieName,value,msToExpire,path,domain,secure){if(configCookiesDisabled){return}var expiryDate;if(msToExpire){expiryDate=new Date();expiryDate.setTime(expiryDate.getTime()+msToExpire)}documentAlias.cookie=cookieName+"="+encodeWrapper(value)+(msToExpire?";expires="+expiryDate.toGMTString():"")+";path="+(path||"/")+(domain?";domain="+domain:"")+(secure?";secure":"")}function getCookie(cookieName){var cookiePattern=new RegExp("(^|;)[ ]*"+cookieName+"=([^;]*)"),cookieMatch=cookiePattern.exec(documentAlias.cookie);return cookieMatch?decodeWrapper(cookieMatch[2]):0}function purify(url){var targetPattern;if(configDiscardHashTag){targetPattern=new RegExp("#.*");return url.replace(targetPattern,"")}return url}function resolveRelativeReference(baseUrl,url){var protocol=getProtocolScheme(url),i;if(protocol){return url}if(url.slice(0,1)==="/"){return getProtocolScheme(baseUrl)+"://"+getHostName(baseUrl)+url}baseUrl=purify(baseUrl);if((i=baseUrl.indexOf("?"))>=0){baseUrl=baseUrl.slice(0,i)}if((i=baseUrl.lastIndexOf("/"))!==baseUrl.length-1){baseUrl=baseUrl.slice(0,i+1)}return baseUrl+url}function isSiteHostName(hostName){var i,alias,offset;for(i=0;i<configHostsAlias.length;i++){alias=domainFixup(configHostsAlias[i].toLowerCase());if(hostName===alias){return true}if(alias.slice(0,1)==="."){if(hostName===alias.slice(1)){return true}offset=hostName.length-alias.length;if((offset>0)&&(hostName.slice(offset)===alias)){return true}}}return false}function getImage(request){var image=new Image(1,1);image.onload=function(){};image.src=configTrackerUrl+"open/dc?"+request}function iframePost(data){if(document.body){try{data=encodeURIComponent(data);try{var ifr=document.createElement('<iframe name="'+data+'"></iframe>')}catch(d){ifr=document.createElement("iframe"),ifr.name=data}ifr.height="0";ifr.width="0";ifr.style.display="none";ifr.style.visibility="hidden";var explorer=window.navigator.userAgent.toLowerCase();var _ss=(isIE()||(explorer.indexOf("chrome")>=0&&parseInt(explorer.match(/chrome\/([\d.]+)/)[1])<=43))?encodeURIComponent(location.protocol+"//w3.huawei.com/favicon.ico"):"";if(typeof static_source_4hwa!="undefined"){_ss=static_source_4hwa}var src=configTrackerUrl+"configresource/js/general/analytics_iframe.html#"+_ss,clear=function(){ifr.src="";ifr.parentNode&&ifr.parentNode.removeChild(ifr)};addEventListener(windowAlias,"beforeunload",clear);addEventListener(windowAlias,"message",function(event){try{if(JSON.parse(event.data).flag!=="hwa_post"){return}clear();removeEventListener(windowAlias,"beforeunload",clear)}catch(e){console.log("hwa-alert: this brower no supplied postMessage!")
}});ifr.src=src;document.body.appendChild(ifr)}catch(e){}}else{setTimeout(function(){iframePost(data)},100)}}var _cRequest=0;var _dDate=new Date();function sendRequest(request,delay){var now=new Date();if((now-_dDate)>1000){_cRequest=0;_dDate=now}if(!configDoNotTrack&&_cRequest<5){_cRequest++;if(2000>=request.length){request&&getImage(request)}else{iframePost(request)}expireDateTime=now.getTime()+delay}try{fields["data"]=null;fields["goal_id"]=null;fields["page_x"]=null;fields["page_y"]=null;fields["opr_wf_d"]=null;fields["opr_wf_n"]=null;fields["opr_wf_s"]=null;fields["biz_wf_n"]=null;fields["biz_wf_s_s"]=null;fields["biz_wf_s_n"]=null;fields["ri1"]=null;fields["ri2"]=null;fields["ri3"]=null;fields["ri4"]=null;fields["ri5"]=null;fields["rv1"]=null;fields["rv2"]=null;fields["rv3"]=null;fields["rv4"]=null;fields["rv5"]=null;fields["t_d_1"]=null}catch(e){}}function getCookieName(baseName){return configCookieNamePrefix+baseName+"."+configTrackerSiteId+"."+domainHash}function hasCookies(){if(configCookiesDisabled){return"0"}if(!isDefined(navigatorAlias.cookieEnabled)){var testCookieName=getCookieName("testcookie");setCookie(testCookieName,"1");return getCookie(testCookieName)==="1"?"1":"0"}return navigatorAlias.cookieEnabled?"1":"0"}function updateDomainHash(){domainHash=hash((configCookieDomain||domainAlias)+(configCookiePath||"/")).slice(0,4)}function getCustomVariablesFromCookie(){var cookieName=getCookieName("cvar"),cookie=getCookie(cookieName);if(cookie.length){cookie=JSON.parse(cookie);if(isObject(cookie)){return cookie}}return{}}function loadCustomVariables(){if(customVariables===false){customVariables=getCustomVariablesFromCookie()}}function activityHandler(){var now=new Date();lastActivityTime=now.getTime()}function setVisitorIdCookie(uuid,createTs,visitCount,nowTs,lastVisitTs,lastEcommerceOrderTs){setCookie(getCookieName("id"),uuid,configVisitorCookieTimeout,configCookiePath,configCookieDomain,cookieSecure)}function loadVisitorIdCookie(){var now=new Date(),nowTs=Math.round(now.getTime()/1000),id=getCookie(getCookieName("id")),tmpContainer;var cst_uid=document.getElementById("fm_loginUserName");if(cst_uid&&cst_uid.innerText){visitorUUID=cst_uid.innerText.replace(/\s{1,}/g,"").split("|")[0];visitorUUIDEncrypt=0}if(!visitorUUID){if(!!getCookie("login_uid")){visitorUUID=getCookie("login_uid");visitorUUIDEncrypt=1}else{visitorUUID=getCookie("uid");visitorUUIDEncrypt=1}}if(id){tmpContainer=id.split(".");tmpContainer.unshift("0");if(tmpContainer[0]===visitorUUID||!visitorUUID){return tmpContainer}}if(!visitorUUID){visitorUUID=hash((navigatorAlias.userAgent||"")+(navigatorAlias.platform||"")+JSON.stringify(browserFeatures)+nowTs).slice(0,16)}tmpContainer=["1",visitorUUID,nowTs,0,nowTs,"",""];return tmpContainer}function loadReferrerAttributionCookie(){var cookie=getCookie(getCookieName("ref"));if(cookie.length){try{cookie=JSON.parse(cookie);if(isObject(cookie)){return cookie}}catch(err){}}return["","",0,""]}var unloadCookieFuncBound;var fred=function(a,b){return a-b};function getPerformance(){try{if(perfInfo!==null&&typeof perfInfo==="object"){var marks=window.performance.getEntriesByType("mark");var measures=window.performance.getEntriesByType("measure");var c=[];for(var i=0;i<measures.length;i++){c[i]=Math.floor(measures[i].duration*1000)}var max=Math.max.apply(null,c);perfInfo={utc:0,plt:max};try{window.performance.clearMarks();window.performance.clearMeasures()}catch(e){}return perfInfo}else{var perf=windowAlias.performance||windowAlias.webkitPerformance,perf=perf&&perf.timing;if(perf){var c=perf.navigationStart;if(0==c){return !1}var d=perf.loadEventStart-c;if(Infinity==d||isNaN(d)||d<=0){return !1}perfInfo={utc:0,dns:perf.connectEnd-c,tcp:perf.connectEnd-perf.connectStart,srt:perf.responseStart-perf.requestStart,pdt:perf.responseEnd-perf.responseStart,rrt:perf.domComplete-perf.domLoading,dit:perf.domInteractive-c,plt:d,clt:perf.loadEventEnd-perf.loadEventStart};for(var o in perfInfo){if(perfInfo[o]<0){perfInfo[o]=0}}return perfInfo}}}catch(e){}}function buildPayload(data){var ret=[];for(var o in data){if(data[o]!=null){if(typeof data[o]==="string"){data[o]=data[o].replace(/(^\s+)|(\s+$)/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;")}ret.push(o+"="+encodeURIComponent(data[o]))}}return ret.join("&")}function getRequest(request,customData,pluginMethod,currentEcommerceOrderTs){var i,now=new Date(),nowTs=Math.round(now.getTime()/1000),newVisitor,uuid,visitCount,createTs,currentVisitTs,lastVisitTs,lastEcommerceOrderTs,referralTs,referralUrl,referralUrlMaxLength=1024,currentReferrerHostName,originalReferrerHostName,customVariablesCopy=customVariables,idname=getCookieName("id"),sesname=getCookieName("ses"),refname=getCookieName("ref"),cvarname=getCookieName("cvar"),datasend=null,id=loadVisitorIdCookie(),ses=getCookie(sesname),attributionCookie=loadReferrerAttributionCookie(),currentUrl=configCustomUrl||locationHrefAlias,campaignNameDetected,campaignKeywordDetected;if(configDoNotTrack){return""}var request_ri1=request.ri1,request_plt=request.plt;
if(beforeRequestFn(request,customData,pluginMethod,currentEcommerceOrderTs)===false){return""}request_ri1&&(request.ri1=request_ri1);request_plt&&(request.plt=request_plt);if(configIgnore.ignoreUrl){if(configIgnore.ignoreUrl instanceof RegExp&&configIgnore.ignoreUrl.test(currentUrl)){return""}else{if(typeof configIgnore.ignoreUrl=="string"&&currentUrl.indexOf(configIgnore.ignoreUrl)!=-1){return""}}}if(configCookiesDisabled){configCookiesDisabled=false;setCookie(idname,"",-86400,configCookiePath,configCookieDomain);setCookie(sesname,"",-86400,configCookiePath,configCookieDomain);setCookie(cvarname,"",-86400,configCookiePath,configCookieDomain);setCookie(refname,"",-86400,configCookiePath,configCookieDomain);configCookiesDisabled=true}newVisitor=id[0];uuid=id[1];createTs=id[2];visitCount=id[3];currentVisitTs=id[4];lastVisitTs=id[5];if(!isDefined(id[6])){id[6]=""}lastEcommerceOrderTs=id[6];if(!isDefined(currentEcommerceOrderTs)){currentEcommerceOrderTs=""}var charSet=document.characterSet||document.charset;if(!charSet||charSet.toLowerCase()==="utf-8"){charSet=null}campaignNameDetected=attributionCookie[0];campaignKeywordDetected=attributionCookie[1];referralTs=attributionCookie[2];referralUrl=attributionCookie[3];if(!ses){visitCount++;ses=hash(uuid+(new Date()-0)+""+Math.random());lastVisitTs=currentVisitTs;if(!configConversionAttributionFirstReferrer||!campaignNameDetected.length){for(i in configCampaignNameParameters){if(Object.prototype.hasOwnProperty.call(configCampaignNameParameters,i)){campaignNameDetected=getParameter(currentUrl,configCampaignNameParameters[i]);if(campaignNameDetected.length){break}}}for(i in configCampaignKeywordParameters){if(Object.prototype.hasOwnProperty.call(configCampaignKeywordParameters,i)){campaignKeywordDetected=getParameter(currentUrl,configCampaignKeywordParameters[i]);if(campaignKeywordDetected.length){break}}}}currentReferrerHostName=getHostName(configReferrerUrl);originalReferrerHostName=referralUrl.length?getHostName(referralUrl):"";if(currentReferrerHostName.length&&!isSiteHostName(currentReferrerHostName)&&(!configConversionAttributionFirstReferrer||!originalReferrerHostName.length||isSiteHostName(originalReferrerHostName))){referralUrl=configReferrerUrl}if(referralUrl.length||campaignNameDetected.length){referralTs=nowTs;attributionCookie=[campaignNameDetected,campaignKeywordDetected,referralTs,purify(referralUrl.slice(0,referralUrlMaxLength))]}}pageId=pageId||hash(uuid+ses+(new Date()-0));function isLandingPage(){if(configReferrerUrl===""){return false}var referrerHost=getHostName(configReferrerUrl);var ret=/(\/\/)([^\/]*)(.*)/.exec(configReferrerUrl);var referrerPath=ret&&ret[3]||"";return referrerHost!=location.hostname||!(new RegExp(configCookiePath)).test(referrerPath)}if(request.action=="pv"&&jalorPageForwardFlag4PV){}var hwaHier=(request.hier?request.hier:configHierarchy);if(hwaHier==null||hwaHier==""){if(request.action=="link-h"){hwaHier=fields["page_hierarchy_before"];fields["page_hierarchy_before"]=null}else{hwaHier=fields["page_hierarchy"]}}if(!/((c:{)|(c{)|(c\())(.*?)}/.test(hwaHier)){if(fields["page_hierarchy"]!=null&&fields["page_hierarchy"].match(/((c:{)|(c{)|(c\())(.*?)}/g)!=null){var hwaPageHier=fields["page_hierarchy"].match(/((c:{)|(c{)|(c\())(.*?)}/g)[0];if(hwaPageHier!=null){hwaHier=hwaPageHier+(hwaHier==null?"":hwaHier)}}else{if(isDefined(documentAlias.getElementById("hwa-page-hier"))){var hwaPageHier=getPageHierCurrent(documentAlias.getElementById("hwa-page-hier"));if(hwaPageHier!=null){hwaHier=hwaPageHier+(hwaHier==null?"":hwaHier)}}}}if(request.action!="link-h"&&request.action!="click"){fields["page_hierarchy"]=hwaHier}else{}var thistop;if(windowAlias!=windowAlias.top){thistop="notop"}else{thistop="istop"}datasend={"top":thistop,"action":request.action,"idsite":request.siteId||configTrackerSiteId,"t":(request.action=="pv"?asyn_pv_sendtime:now-0),"dt":configTitle,"url":(request.action=="link-h"?purify(urlBeforeHashChange):purify(currentUrl)),"urlref":(request.action=="link-h"?purify(urlRefBeforeHashChange):(configReferrerUrl.length?purify(configReferrerUrl):null)),"hier":hwaHier,"_sid":ses,"_pid":(request.action=="link-h"?pageIdBeforeHashChange:pageId),"_id":uuid};if(request.action=="pv"){datasend._idenc=visitorUUIDEncrypt;datasend.tz=(-now.getTimezoneOffset()/60),datasend.blp=isLandingPage()?1:0;for(i in browserFeatures){if(Object.prototype.hasOwnProperty.call(browserFeatures,i)){datasend[i]=browserFeatures[i]}}}else{if(fields["pageReadyTime"]){try{datasend.offset=(new Date()).getTime()-fields["pageReadyTime"]}catch(ee1){datasend.offset=0}}}if(request.action!="link-h"){mixin(datasend,mapData(fields))}mixin(datasend,request);if((request.action=="ajax-perf"&&typeof request.data!="undefined"&&request.data=="iFrame")&&!configiFrameTrackingDisabled&&!dis_parent&&perf_ifrmae_succeed_flag){var tempStructure,p;try{if(isIE8){duration=new Date().getTime()-ha_js_init_time}p=windowAlias.performance.timing||windowAlias.webkitPerformance.timing;if(p.loadEventEnd){duration=p.loadEventEnd-ha_js_init_time
}else{duration=p.loadEventStart-ha_js_init_time}}catch(e){}if(windowAlias.self==windowAlias.top&&hasiFrame){tempStructure={sid:ha_js_parent_sid,pid:ha_js_parent_pid,time:ha_js_init_time,dur:duration,istop:true}}if(windowAlias.self!=windowAlias.top&&!dis_parent&&typeof ha_js_parent_sid=="string"){tempStructure={sid:ha_js_parent_sid,pid:ha_js_parent_pid,time:ha_js_init_time,dur:duration,url:ha_js_parent_url}}datasend["rv5"]=JSON.stringify(tempStructure);datasend["data"]=customData=null}var customVariablesPageStringified=JSON.stringify(customVariablesPage);if(customVariablesPageStringified.length>2){datasend.cvar=customVariablesPageStringified}customData=customData||configCustomData;if(customData){var sCustomData=JSON.stringify(customData);if(sCustomData.length<4000){datasend.data=sCustomData}}if(customVariables){var customVariablesStringified=JSON.stringify(customVariables);if(customVariablesStringified.length>2){datasend._cvar=customVariablesStringified}for(i in customVariablesCopy){if(Object.prototype.hasOwnProperty.call(customVariablesCopy,i)){if(customVariables[i][0]===""||customVariables[i][1]===""){delete customVariables[i]}}}}if(request.action=="link-h"){pageIdBeforeHashChange=null}setVisitorIdCookie(uuid,createTs,visitCount,nowTs,lastVisitTs,isDefined(currentEcommerceOrderTs)&&String(currentEcommerceOrderTs).length?currentEcommerceOrderTs:lastEcommerceOrderTs);setCookie(sesname,ses,configSessionCookieTimeout,configCookiePath,configCookieDomain,cookieSecure);request=buildPayload(datasend);return request}function logiFramePerf(){var i_error=0,_topTimer,_childTimer,sametime;if(windowAlias.self!=windowAlias.top&&!configiFrameTrackingDisabled&&sametime!==asyn_pv_sendtime){top.postMessage(JSON.stringify({flag:"ifr_get"}),"*");sametime=asyn_pv_sendtime}addEventListener(windowAlias,"message",function(event){try{if(event.data.indexOf("ifr_")=="-1"){return}var message=JSON.parse(event.data);switch(message.flag){case"ifr_get":hasiFrame=true;if(configiFrameTrackingDisabled){parentMessage.flag="ifr_dis";return""}else{ha_hashchange_time=ha_hashchange_time||ha_js_init_time;var parentMessage={ifr_siteId:ha_js_parent_sid,ifr_pageId:ha_js_parent_pid,ifr_time:ha_hashchange_time,ifr_url:document.location.href,flag:"ifr_set"};event.source.postMessage(JSON.stringify(parentMessage),event.origin);perf_ifrmae_succeed_flag=true;setTimeout(logLink(null,"ajax-perf",{data:"iFrame"}))}break;case"ifr_set":var urlPattern=new RegExp("[.xml]","i");if(urlPattern.test(document.referrer)){ha_js_parent_url=message.ifr_url}else{ha_js_parent_url=document.referrer}if(message.ifr_siteId){ha_js_init_time=message.ifr_time;ha_js_parent_sid=message.ifr_siteId;ha_js_parent_pid=message.ifr_pageId;perf_ifrmae_succeed_flag=true;dis_parent=false}setTimeout(logLink(null,"ajax-perf",{data:"iFrame"}));break}}catch(e){}},false)}function logPerformance(customTitle,customData,dryrun){if(documentAlias.readyState!="complete"){setTimeout(function(){logPerformance(customTitle,customData,dryrun)},100);return}perfInfo=getPerformance();perfInfo.utc=0;if(customTitle==="Manual"&&typeof customData=="number"){perfInfo.plt=customData;perfInfo.utc=1;customData=""}if(!perfInfo||dryrun){return}if(!typeof perfInfo.plt==="number"||!isFinite(perfInfo.plt)){return}var request=getRequest(mixin({action:"pp"},perfInfo,mapData(customTitle)),customData,"performance");sendRequest(request,configTrackerPause)}function logHistory(){asyn_pv_sendtime=new Date().getTime();ajaxthreshold_time=0;perf_ajaxpage_firstloadtime=0;perf_ajaxpage_max_time=0;has_page_ajax_load=true;perf_ajaxpage_in=0;perf_ajaxpage_out=0}function logPageView(data){var now=new Date();fields["pageReadyTime"]=(new Date()).getTime();var _pv_timeout=10;if(hwa_source_this.parent!=hwa_source_this){_pv_timeout=1000}setTimeout(function(){var request=getRequest(mixin({"action":"pv"},mapData(data)),null,"log");sendRequest(request,configTrackerPause);try{if(typeof Jalor!=="object"||typeof Jalor.Page!=="object"){return}hwa_meld.before(Jalor.Page,["forward"],function(result){try{urlBeforeHashChange=windowAlias.location.href;pageIdBeforeHashChange=pageId;urlRefBeforeHashChange=configReferrerUrl;documentTileBeforeHashchange=configTitle;if(perfTimer){sendPerfQueue(true);clearTimeout(perfTimer)}}catch(e){}});hwa_meld.after(Jalor.Page,["forward"],function(result){try{if(((new Date().getTime()-ha_js_init_time)<1000)){return}if(pageURLBeforeRegenerate!=null&&pageURLBeforeRegenerate==windowAlias.location.href){return}else{pageURLBeforeRegenerate=windowAlias.location.href}var sesname=getCookieName("ses"),_id=loadVisitorIdCookie(),_ses=getCookie(sesname),_uuid=_id[1];pageId=hash(_uuid+_ses+(new Date()-0));fields["referrer"]=urlBeforeHashChange;configReferrerUrl=urlBeforeHashChange;fields["url"]=windowAlias.location.href;configCustomUrl=windowAlias.location.href;configTitle=documentAlias.title;var haBIStructure={};jalorPageForwardFlag=true;jalorPageForwardFlag4PV=true;has_page_ajax_load=true;perf_ajaxpage_in=0;perf_ajaxpage_out=0;setTimeout(function(){if(autoSendPV){logPageView(haBIStructure)
}},0);asyn_pv_sendtime=new Date().getTime();perf_ajaxpage_firstloadtime=0;ajaxthreshold_time=0}catch(e){}})}catch(e){}},_pv_timeout)}function logSiteSearch(type,data){type=type=="click"?"searchclick":"search";var request=getRequest(mixin({action:type},mapData(data)),null,"sitesearch");sendRequest(request,configTrackerPause)}function logGoal(gData,data){var request=getRequest(mixin(gData,{"action":"goal"},mapData(data)),null,"goal");sendRequest(request,configTrackerPause)}function logLink(url,linkType,customData){var request=getRequest(mixin(customData,{"action":linkType}),customData.data,"link");sendRequest(request,configTrackerPause)}function prefixPropertyName(prefix,propertyName){if(prefix!==""){return prefix+propertyName.charAt(0).toUpperCase()+propertyName.slice(1)}return propertyName}function trackCallback(callback){var isPreRendered,i,prefixes=["","webkit","ms","moz"],prefix;if(!configCountPreRendered){for(i=0;i<prefixes.length;i++){prefix=prefixes[i];if(Object.prototype.hasOwnProperty.call(documentAlias,prefixPropertyName(prefix,"hidden"))){if(documentAlias[prefixPropertyName(prefix,"visibilityState")]==="prerender"){isPreRendered=true}break}}}function ready(){documentAlias.removeEventListener(prefix+"visibilitychange",ready,false);callback()}if(isPreRendered){addEventListener(documentAlias,prefix+"visibilitychange",ready);return}callback()}function getClassesRegExp(configClasses,defaultClass){var i,classesRegExp="(^| )(hwa[_-]"+defaultClass;if(configClasses){for(i=0;i<configClasses.length;i++){classesRegExp+="|"+configClasses[i]}}classesRegExp+=")( |$)";return new RegExp(classesRegExp)}function getLinkType(className,href){var downloadPattern=getClassesRegExp(configDownloadClasses,"download"),linkPattern=getClassesRegExp(configLinkClasses,"link"),downloadExtensionsPattern=new RegExp("\\.("+configDownloadExtensions+")([?&#]|$)","i");return linkPattern.test(className)?"link":(downloadPattern.test(className)||downloadExtensionsPattern.test(href)?"download":"link")}function processClick(evt){try{var parentElement,tag,linkType,_c=3,sourceElement=evt.target||evt.srcElement,sourceElementOrginal=evt.target||evt.srcElement,event=event||evt;var ignorePattern=getClassesRegExp([configHaIgnoreClass],"ignore");if(ignorePattern.test(sourceElement.className)){return}var hwaClickPattern=getClassesRegExp([configHaClickClass],"hwa-click");if(hwaClickPattern.test(sourceElement.className)){var attrs=sourceElement.attributes,target=sourceElement.target;if(attrs){if(attrs["hwa-getNewiFrame"]){getNewiFrame()}else{if(attrs["hwa-opr-wf"]){if(attrs["hwa-opr-wf-status"]&&attrs["hwa-opr-wf-status"].value=="end"){var now=new Date();var wf=fields[attrs["hwa-opr-wf"].value]=fields[attrs["hwa-opr-wf"].value]||[];var duration=0;if(wf.length>0){duration=now.getTime()-wf[0].t}wf.push({"t":now.getTime(),"opr":(attrs["hwa-func"]?attrs["hwa-func"].value:""),"duration":duration});var doc=sourceElement.ownerDocument||document,body=doc.body;doc=doc.documentElement;var haBIStructure={"l_title":sourceElement.innerText?sourceElement.innerText:sourceElement.title,"l_href":sourceHref,"l_target":target,"l_html":sourceElement.innerHTML,"pagex":event.pageX||(event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0)),"pagey":event.pageY||(event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0))};haBIStructure["hier"]=getModuleHier(sourceElement);haBIStructure["opr_wf_d"]=duration;haBIStructure["opr_wf_n"]=attrs["hwa-opr-wf"].value;haBIStructure["opr_wf_s"]=attrs["hwa-opr-wf-status"].value;haBIStructure["data"]=wf;logLink(sourceElement.href,"click",haBIStructure);delete fields[attrs["hwa-opr-wf"].value];return}else{var now=new Date();var wf=fields[attrs["hwa-opr-wf"].value]=fields[attrs["hwa-opr-wf"].value]||[];if(wf.length>10){delete fields[attrs["hwa-opr-wf"].value];return}wf.push({"t":now.getTime(),"opr":(attrs["hwa-func"]?attrs["hwa-func"].value:"")});return}}else{if(attrs["hwa-biz-wf"]){var now=new Date();var doc=sourceElement.ownerDocument||document,body=doc.body;doc=doc.documentElement;var haBIStructure={"l_title":sourceElement.innerText?sourceElement.innerText:sourceElement.title,"l_href":sourceHref,"l_target":target,"l_html":sourceElement.innerHTML,"pagex":event.pageX||(event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0)),"pagey":event.pageY||(event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0))};haBIStructure["hier"]=getModuleHier(sourceElement);haBIStructure["biz_wf_n"]=attrs["hwa-biz-wf"].value;haBIStructure["biz_wf_s_s"]=attrs["hwa-biz-wf-status"]?attrs["hwa-biz-wf-status"].value:"";haBIStructure["biz_wf_s_n"]=attrs["hwa-func"]?attrs["hwa-func"].value:"";logLink(sourceElement.href,"click",haBIStructure);return}else{if(attrs["hwa-query-form"]){var targetForm=attrs["hwa-query-form"].value;if(!targetForm){return}var doc=sourceElement.ownerDocument||document,body=doc.body;
doc=doc.documentElement;var fills=[];var hwaforms=document.getElementsByTagName("form");var queryForm=null;if(!hwaforms||hwaforms.length<1){return}for(var i=0;i<hwaforms.length;i++){if(hwaforms[i]&&hwaforms[i].attributes["hwa-query-form-name"]&&targetForm==hwaforms[i].attributes["hwa-query-form-name"].value&&typeof document.getElementsByClassName!="undefined"){var hwaFill=hwaforms[i].getElementsByClassName("hwa-query-fill");for(var j=0;j<hwaFill.length;j++){var i_id=hwaFill[j].attributes["id"]!=null?hwaFill[j].attributes["id"].value:"";var i_name=hwaFill[j].attributes["name"]!=null?hwaFill[j].attributes["name"].value:"";var i_value=hwaFill[j].value!=null?hwaFill[j].value:"";var i_ele={};i_ele.id=i_id;i_ele.name=i_name;i_ele.value=i_value;fills.push(i_ele)}break}}var haBIStructure={"l_title":sourceElement.innerText?sourceElement.innerText:null,"l_html":sourceElement.innerHTML,"pagex":event.pageX||(event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0)),"pagey":event.pageY||(event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),"rv1":sourceElementOrginal.attributes["id"]!=null?sourceElementOrginal.attributes["id"].value:null,"rv2":sourceElementOrginal.attributes["name"]!=null?sourceElementOrginal.attributes["name"].value:null,"data":JSON.stringify(fills)};haBIStructure["hier"]=getModuleHier(sourceElement);logLink(sourceElement.href,"click-query",haBIStructure);return}else{var doc=sourceElement.ownerDocument||document,body=doc.body;doc=doc.documentElement;var haBIStructure={"l_title":sourceElement.innerText?sourceElement.innerText:sourceElement.title,"l_href":sourceHref,"l_target":target,"l_html":sourceElement.innerHTML,"pagex":event.pageX||(event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0)),"pagey":event.pageY||(event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0))};haBIStructure["hier"]=getModuleHier(sourceElement);logLink(sourceElement.href,"click",haBIStructure);return}}}}}return}while((parentElement=sourceElement.parentNode)!==null&&isDefined(parentElement)&&((tag=sourceElement.tagName.toUpperCase())!=="A"&&tag!=="AREA")&&_c--){sourceElement=parentElement}if(isDefined(sourceElement.href)&&sourceElement.href!=""&&((tag=sourceElement.tagName.toUpperCase())=="A"||tag=="AREA")){var originalSourceHostName=sourceElement.hostname||getHostName(sourceElement.href),sourceHostName=originalSourceHostName.toLowerCase(),sourceHref=sourceElement.href.replace(originalSourceHostName,sourceHostName);var attrs=sourceElement.attributes,target=sourceElement.target,onclick=sourceElement.onclick;if(attrs){var doc=sourceElement.ownerDocument||document,body=doc.body;doc=doc.documentElement;var custHWMicroFormatPattern=/^habi-(\w+)/i,haBIStructure={"l_title":((sourceElement.title!=null&&sourceElement.title!="")?sourceElement.title:sourceElement.innerText),"l_href":sourceHref,"l_target":target,"l_html":sourceElement.innerHTML,"pagex":event.pageX||(event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0)),"pagey":event.pageY||(event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0))},result;for(i=0;i<sourceElement.attributes.length;i+=1){result=custHWMicroFormatPattern.exec(sourceElement.attributes[i].nodeName);if(result){var _name=result[1].toLowerCase();var _value=attrs[i].value;if(_name=="data"||_name=="hier"||_name=="l_href"||_name=="link_title"){result={};try{result=_value}catch(e){}haBIStructure[_name]=result}var _pTitlePattern=/^parenttitle([1-3]?)$/i;var _pTitleIdPattern=/^parenttitleid([1-3]?)$/i;var match;if(_name==="title"){haBIStructure.title=_value}else{if(_name==="titleid"){var ele=documentAlias.getElementById(_value);if(ele){haBIStructure.title=ele.childNodes[0].value.replace(/\n/g,"")}}else{if((match=_pTitlePattern.exec(_name))){if(match[1].length<1){haBIStructure.pTitleL3=_value}else{haBIStructure["pTitleL"+match[1]]=_value}}else{if(match=_pTitleIdPattern.exec(_name)){var ele=documentAlias.getElementById(_value);if(ele){if(match[1].length<1){haBIStructure.pTitleL3=ele.childNodes[0].value.replace(/\n/g,"")}else{haBIStructure["pTitleL"+match[1]]=ele.childNodes[0].value.replace(/\n/g,"")}}}else{if(_name==="btype"){haBIStructure["l_type"]=_value}else{if(_name==="datacallback"){if(_value&&_value.length>0){var custDataFunc=eval(_value);if(isFunction(custDataFunc)){var custData=custDataFunc.apply(sourceElement);if(isObject(custData)){haBIStructure=mixin(haBIStructure,custData)}}}}}}}}}}}}linkType=getLinkType(sourceElement.className,sourceHref);if(linkType){sourceHref=urldecode(sourceHref);logLink(sourceHref,linkType,haBIStructure);var href=sourceElement.getAttribute("href");if((!target||target=="_self")&&href.indexOf("#")!=0&&href!=location.href&&href!=(location.href+"#")){if(onclick!=null&&(onclick.toString().indexOf("return(false)")>-1||onclick.toString().indexOf("return false")>-1||onclick.toString().indexOf("return  false"))>-1){}else{}}}return
}if(isDefined(sourceElement.target)&&(sourceElement.target=="_self"||sourceElement.target=="_blank")&&((tag=sourceElement.tagName.toUpperCase())=="A"||tag=="AREA")){var originalSourceHostName=sourceElement.hostname||getHostName(sourceElement.href),sourceHostName=originalSourceHostName.toLowerCase(),sourceHref=sourceElement.href.replace(originalSourceHostName,sourceHostName);var doc=sourceElement.ownerDocument||document,body=doc.body;doc=doc.documentElement;haBIStructure={"l_title":((sourceElement.title!=null&&sourceElement.title!="")?sourceElement.title:sourceElement.innerText),"l_target":target,"l_html":sourceElement.innerHTML,"pagex":event.pageX||(event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0)),"pagey":event.pageY||(event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0))};if(jalorPageForwardFlag){setTimeout(function(){haBIStructure.l_href=windowAlias.location.href;logLink(null,"link-h",haBIStructure);return},500)}else{logLink(null,"link",haBIStructure);jalorPageForwardFlag=false}}if("trackAll"===fields["trackType"]){var doc=sourceElement.ownerDocument||document,body=doc.body;doc=doc.documentElement;var title_t;if(sourceElementOrginal.title!=null&&sourceElementOrginal.title!=""){title_t=sourceElementOrginal.title}else{if(sourceElementOrginal.attributes["value"]!=null&&sourceElementOrginal.attributes["value"].value){title_t=sourceElementOrginal.attributes["value"].value}else{title_t=sourceElementOrginal.innerText.substr(0,100)}}haBIStructure={"l_title":title_t,"l_target":target,"l_html":sourceElementOrginal.outerHTML.substr(0,500),"pagex":event.pageX||(event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0)),"pagey":event.pageY||(event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),"rv1":sourceElementOrginal.attributes["id"]!=null?sourceElementOrginal.attributes["id"].value:null,"rv2":sourceElementOrginal.attributes["name"]!=null?sourceElementOrginal.attributes["name"].value:null,"rv3":sourceElementOrginal.attributes["value"]!=null?sourceElementOrginal.attributes["value"].value:null};logLink("","click-trackall",haBIStructure);return}var flag=false,n=0;while(!flag&&n<3){flag=(sourceElementOrginal.tagName.toUpperCase()==="BUTTON"||(sourceElementOrginal.tagName.toUpperCase()==="INPUT"&&sourceElementOrginal.type.toUpperCase()==="BUTTON"));for(var i=0,reg;i<btnclasses.length;i++){if(btnclasses[i] instanceof RegExp){reg=btnclasses[i]}else{reg=new RegExp("(^|(\\s+))"+btnclasses[i]+"((\\s+)|$)")}if(sourceElementOrginal.className&&reg.test(sourceElementOrginal.className)){flag=true}}if(!flag){sourceElementOrginal=sourceElementOrginal.parentNode||sourceElementOrginal;n=sourceElementOrginal?(n+1):3}}if(isFF()){if(flag){window.event=evt;setTimeout(function(){window.event=undefined},1000)}}if(!evt.timePoint&&flag){var doc=sourceElement.ownerDocument||document,body=doc.body;doc=doc.documentElement;var title_t;if(sourceElementOrginal.title!=null&&sourceElementOrginal.title!=""){title_t=sourceElementOrginal.title}else{if(sourceElementOrginal.attributes["value"]!=null&&sourceElementOrginal.attributes["value"].value){title_t=sourceElementOrginal.attributes["value"].value}else{title_t=sourceElementOrginal.innerText.substr(0,100)}}haBIStructure={"l_title":title_t,"l_target":target,"l_html":sourceElementOrginal.outerHTML.substr(0,500),"pagex":event.pageX||(event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0)),"pagey":event.pageY||(event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),"t_d_1":"button","rv1":sourceElementOrginal.attributes["id"]!=null?sourceElementOrginal.attributes["id"].value:null,"rv2":sourceElementOrginal.attributes["name"]!=null?sourceElementOrginal.attributes["name"].value:null};logLink("","click",haBIStructure);return}}catch(e){}}function processKeydown(evt){if("trackAll"===fields["trackType"]&&(evt.keyCode==13||evt.keyCode==9)){try{var sourceElement=evt.target||evt.srcElement,event=event||evt;var doc=sourceElement.ownerDocument||document,body=doc.body;doc=doc.documentElement;var title_t;if(sourceElement.title!=null&&sourceElement.title!=""){title_t=sourceElement.title}else{if(sourceElement.attributes["value"]!=null&&sourceElement.attributes["value"].value){title_t=sourceElement.attributes["value"].value}else{title_t=sourceElement.innerText.substr(0,100)}}var haBIStructure={"l_title":title_t,"l_target":sourceElement.target,"l_html":sourceElement.outerHTML.substr(0,500),"pagex":getElementX(sourceElement),"pagey":getElementY(sourceElement),"rv1":sourceElement.attributes["id"]!=null?sourceElement.attributes["id"].value:null,"rv2":sourceElement.attributes["name"]!=null?sourceElement.attributes["name"].value:null,"rv3":sourceElement.attributes["value"]!=null?sourceElement.attributes["value"].value:null};
var request=getRequest(mixin({"action":"keydown_"+evt.keyCode},haBIStructure));sendRequest(request,configTrackerPause)}catch(e){}}}function getElementX(sourceElement){return sourceElement.getBoundingClientRect().left+Math.max(sourceElement.scrollLeft,document.body.scrollLeft)}function getElementY(sourceElement){return sourceElement.getBoundingClientRect().top+Math.max(sourceElement.scrollTop,document.body.scrollTop)}function getModuleHier(sourceElement){try{var parent=sourceElement,hwaParentClass=getClassesRegExp("hwa-dc","dc");var levels=[],modules=[],tabs=[],func,module_hier;for(var i=0;i<20;i++){if(!isDefined(parent)||parent==null){break}if(parent.className!=null&&hwaParentClass.test(parent.className)){if(levels.length<6&&isDefined(parent.attributes["hwa-hier"])){levels.push((parent.attributes["hwa-hier"].value||parent.attributes["hwa-hier"]))}if(modules.length<3&&isDefined(parent.attributes["hwa-module"])){modules.push((parent.attributes["hwa-module"].value||parent.attributes["hwa-module"]))}if(tabs.length<3&&isDefined(parent.attributes["hwa-tab"])){tabs.push((parent.attributes["hwa-tab"].value||parent.attributes["hwa-tab"]))}}parent=parent.parentElement}var levels_t;for(var i=levels.length;i>0;i--){levels_t=(levels_t==null?"":levels_t)+levels.pop()+"/"}if(levels_t!=null){module_hier="c:{"+levels_t+"}"}var modules_t;for(var i=modules.length;i>0;i--){modules_t=(modules_t==null?"":modules_t)+modules.pop()+"/"}if(modules_t!=null){module_hier="g:{"+modules_t+"}"}var tabs_t;for(var i=tabs.length;i>0;i--){tabs_t=(tabs_t==null?"":tabs_t)+tabs.pop()+"/"}if(tabs_t!=null){module_hier=(module_hier==null?"":module_hier)+"t:{"+tabs_t+"}"}if(func==null&&isDefined(sourceElement.attributes["hwa-func"])){func="f:{"+(sourceElement.attributes["hwa-func"].value||sourceElement.attributes["hwa-func"])+"}"}return(module_hier==null?"":module_hier)+func}catch(e){}}function getPageHierCurrent(sourceElement){try{var parentTemp=sourceElement;if(!isDefined(parentTemp)||parentTemp==null){return}var page_hier;if(isDefined(parentTemp.attributes["hwa-hier"])){page_hier="c:{"+(parentTemp.attributes["hwa-hier"].value||parentTemp.attributes["hwa-hier"])+"}"}return page_hier}catch(e){}}function addClickListener(element,enable){if(!linkTrackingInstalled){linkTrackingInstalled=true;addEventListener(documentAlias,"click",processClick,isFF());addEventListener(windowAlias,"keydown",processKeydown,false)}}function _getFlashVersion(){var a,b,c;if((c=(c=window["navigator"])?c.plugins:da)&&c["length"]){for(var d=0;d<c["length"]&&!b;d++){var e=c[d];-1<e["name"]["indexOf"]("Shockwave Flash")&&(b=e.description)}}if(!b){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),b=a.GetVariable("$version")}catch(g){}}if(!b){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),b="WIN 6,0,21,0",a.AllowScriptAccess="always",b=a.GetVariable("$version")}catch(ca){}}if(!b){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),b=a.GetVariable("$version")}catch(l){}}b&&(a=b["match"](/[\d]+/g))&&3<=a["length"]&&(b=a[0]+"."+a[1]+" r"+a[2]);return b||""}function detectBrowserFeatures(){var i,mimeType,pluginMap={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},devicePixelRatio=(new RegExp("Mac OS X.*Safari/")).test(navigatorAlias.userAgent)?windowAlias.devicePixelRatio||1:1;if(navigatorAlias.mimeTypes&&navigatorAlias.mimeTypes.length){for(i in pluginMap){if(Object.prototype.hasOwnProperty.call(pluginMap,i)){mimeType=navigatorAlias.mimeTypes[pluginMap[i]];browserFeatures[i]=(mimeType&&mimeType.enabledPlugin)?"1":"0"}}}if(typeof navigator.javaEnabled!=="unknown"&&isDefined(navigatorAlias.javaEnabled)&&navigatorAlias.javaEnabled()){browserFeatures.java="1"}if(isFunction(windowAlias.GearsFactory)){browserFeatures.gears="1"}if(!browserFeatures.fla){var _flav=_getFlashVersion();if(_flav){browserFeatures.fla="1"}}browserFeatures.cookie=hasCookies();browserFeatures.res=screenAlias.width*devicePixelRatio+"x"+screenAlias.height*devicePixelRatio}function registerHook(hookName,userHook){var hookObj=null;if(isString(hookName)&&!isDefined(registeredHooks[hookName])&&userHook){if(isObject(userHook)){hookObj=userHook}else{if(isString(userHook)){try{eval("hookObj ="+userHook)}catch(e){}}}registeredHooks[hookName]=hookObj}return hookObj}detectBrowserFeatures();updateDomainHash();return{hook:registeredHooks,getHook:function(hookName){return registeredHooks[hookName]},set:function(name,value){var _this=this;if(typeof name=="object"){for(var item in name){if(/set/.test(item)&&_this[item]){_this[item](name[item])}}mixin(fields,name);if(name.siteId&&windowAlias==windowAlias.top){ha_js_parent_sid=fields["siteId"]}}else{if(typeof name=="string"){fields[name]=value;if(name=="siteId"&&windowAlias==windowAlias.top){ha_js_parent_sid=fields["siteId"]}}}},get:function(name){return fields[name]
},getVisitorId:function(){return(loadVisitorIdCookie())[1]},getVisitorInfo:function(){return loadVisitorIdCookie()},getAttributionInfo:function(){return loadReferrerAttributionCookie()},getAttributionCampaignName:function(){return loadReferrerAttributionCookie()[0]},getAttributionCampaignKeyword:function(){return loadReferrerAttributionCookie()[1]},getAttributionReferrerTimestamp:function(){return loadReferrerAttributionCookie()[2]},getAttributionReferrerUrl:function(){return loadReferrerAttributionCookie()[3]},setSiteId:function(siteId){configTrackerSiteId=siteId;fields["siteId"]=siteId;if(windowAlias.self==windowAlias.top){ha_js_parent_sid=siteId}},setHierarchy:function(hierarchy){configHierarchy=hierarchy},setUUID:function(uuid,encrypt){visitorUUID=uuid;visitorUUIDEncrypt=encrypt},setCustomData:function(key_or_obj,opt_value){if(isObject(key_or_obj)){configCustomData=key_or_obj}else{if(!configCustomData){configCustomData=[]}configCustomData[key_or_obj]=opt_value}},getCustomData:function(){return configCustomData},setCustomVariable:function(index,name,value,scope){var toRecord;if(!isDefined(scope)){scope="visit"}if(index>0){name=isDefined(name)&&!isString(name)?String(name):name;value=isDefined(value)&&!isString(value)?String(value):value;toRecord=[name.slice(0,customVariableMaximumLength),value.slice(0,customVariableMaximumLength)];if(scope==="visit"||scope===2){loadCustomVariables();customVariables[index]=toRecord}else{if(scope==="page"||scope===3){customVariablesPage[index]=toRecord}}}},getCustomVariable:function(index,scope){var cvar;if(!isDefined(scope)){scope="visit"}if(scope==="page"||scope===3){cvar=customVariablesPage[index]}else{if(scope==="visit"||scope===2){loadCustomVariables();cvar=customVariables[index]}}if(!isDefined(cvar)||(cvar&&cvar[0]==="")){return false}return cvar},deleteCustomVariable:function(index,scope){if(this.getCustomVariable(index,scope)){this.setCustomVariable(index,"","",scope)}},setLinkTrackingTimer:function(delay){configTrackerPause=delay},setDownloadExtensions:function(extensions){configDownloadExtensions=extensions},addDownloadExtensions:function(extensions){configDownloadExtensions+="|"+extensions},setDomains:function(hostsAlias){configHostsAlias=isString(hostsAlias)?[hostsAlias]:hostsAlias;configHostsAlias.push(domainAlias)},setIgnoreClasses:function(ignoreClasses){configIgnoreClasses=isString(ignoreClasses)?[ignoreClasses]:ignoreClasses},setIgnore:function(obj){configIgnore.ignoreUrl=!configIgnore.ignoreUrl?obj.ignoreUrl:configIgnore.ignoreUrl;configIgnore.aIgnoreAjaxUrl=!configIgnore.aIgnoreAjaxUrl?obj.aIgnoreAjaxUrl:configIgnore.aIgnoreAjaxUrl},setBeforeRequestFn:function(fn){beforeRequestFn=fn},setRequestMethod:function(method){configRequestMethod=method||"GET"},setReferrerUrl:function(url){configReferrerUrl=url},getReferrerUrl:function(){return configReferrerUrl},setCustomUrl:function(url){configCustomUrl=resolveRelativeReference(locationHrefAlias,url)},getCurrentUrl:function(){return configCustomUrl||locationHrefAlias},setDocumentTitle:function(title){configTitle=title},getDocumentTitle:function(){return configTitle},setDownloadClasses:function(downloadClasses){configDownloadClasses=isString(downloadClasses)?[downloadClasses]:downloadClasses},setLinkClasses:function(linkClasses){configLinkClasses=isString(linkClasses)?[linkClasses]:linkClasses},setCampaignNameKey:function(campaignNames){configCampaignNameParameters=isString(campaignNames)?[campaignNames]:campaignNames},setCampaignKeywordKey:function(campaignKeywords){configCampaignKeywordParameters=isString(campaignKeywords)?[campaignKeywords]:campaignKeywords},discardHashTag:function(enableFilter){configDiscardHashTag=enableFilter},setCookieNamePrefix:function(cookieNamePrefix){configCookieNamePrefix=cookieNamePrefix;customVariables=getCustomVariablesFromCookie()},setCookieDomain:function(domain){configCookieDomain=domainFixup(domain);updateDomainHash()},setCookiePath:function(path){configCookiePath=path;updateDomainHash()},setVisitorCookieTimeout:function(timeout){configVisitorCookieTimeout=timeout*1000},setSessionCookieTimeout:function(timeout){configSessionCookieTimeout=timeout*1000},setReferralCookieTimeout:function(timeout){configReferralCookieTimeout=timeout*1000},setConversionAttributionFirstReferrer:function(enable){configConversionAttributionFirstReferrer=enable},disableCookies:function(){configCookiesDisabled=true;browserFeatures.cookie="0"},disableiFrameTracking:function(flag){configiFrameTrackingDisabled=flag;if(configiFrameTrackingDisabled){ha_js_parent_sid=null}else{if(windowAlias==top){ha_js_parent_sid=fields["siteId"]}}},trackHash:function(flag){if(flag&&typeof Jalor!=="object"){addEventListener(windowAlias,"hashchange",hashchangeHandler,false)}},setDoNotTrack:function(enable){var dnt=navigatorAlias.doNotTrack||navigatorAlias.msDoNotTrack;configDoNotTrack=enable&&(dnt==="yes"||dnt==="1");if(configDoNotTrack){this.disableCookies()}},addListener:function(element,enable){addClickListener(element,enable)
},enableLinkTracking:function(){if(hasLoaded){addClickListener()}else{registeredOnLoadHandlers.push(function(){addClickListener()})}},setHeartBeatTimer:function(minimumVisitLength,heartBeatDelay){var now=new Date();configMinimumVisitTime=now.getTime()+minimumVisitLength*1000;configHeartBeatTimer=heartBeatDelay*1000},setPageComplete:function(busy){if(busy){sendPerfQueue("PageComplete")}else{pageLoad=setInterval(function(){if(hasLoaded||/loaded|complete/.test(documentAlias.readyState)){has_page_ajax_load=false;clearInterval(pageLoad)}},100)}},killFrame:function(){if(windowAlias.location!==windowAlias.top.location){windowAlias.top.location=windowAlias.location}},redirectFile:function(url){if(windowAlias.location.protocol==="file:"){windowAlias.location=url}},setCountPreRendered:function(enable){configCountPreRendered=enable},setAutoSendPV:function(flag){autoSendPV=flag},setAutoSendAjax:function(flag){autoSendAjax=flag},setAutoSendBtnPerf:function(flag,classes,fn){autoSendBtnPerf=flag;btnclasses=btnclasses.concat(classes||[]);if(flag instanceof Array){btnclasses=flag.length>1?btnclasses.concat(flag[1]):btnclasses;beforeBtnSendFn=flag.length>2?flag[2]:beforeBtnSendFn}else{if(typeof flag=="object"){autoSendBtnPerf=flag.autoSendPerf;btnclasses=btnclasses.concat(flag.supportClsList)||btnclasses;beforeBtnSendFn=flag.beforeBtnSendFn||beforeBtnSendFn}}},setApmListener:function(flag){apmListener=true},setJumpModeAndHierMapping:function(mode,mappingobj,doReg){var modes=mode,mapping=mappingobj,doReg=doReg,_this=this;var findByReg=function(obj,key){for(var i in obj){var reg=new RegExp(i);if(reg.test(key)&&i){return obj[i]}}return""};var _setHier=function(sep,mappings,cata){var hier="";if(location.href.indexOf(sep)!=-1){hier=doReg?findByReg(mappings,cata):mappings[cata]}else{hier=mappings[""]||""}_this.set("page_hierarchy",hier)};if(typeof mode==="string"){modes=mode.split(";")}else{if(mode instanceof Array){modes=mode[0].split(";");if(mode.length>1){mapping=mode[1]}if(mode.length>2){doReg=mode[2]}}}if(typeof mappingobj==="string"){try{mapping=JOSN.parse(mappingobj)}catch(e){}}mapping=window["hwaHierMapping"]||mapping||{};if(modes.length&&modes[0]){for(var i=0;i<modes.length;i++){if(modes[i]=="jalor5jump"){Jalor.Page.beforeForward=function(h){var hier=(doReg&&h)?findByReg(mapping,h):mapping[h];_setHier("#!",mapping,location.href);ha("set","page_hierarchy",hier)}}if(modes[i]=="callpushstate"){_setHier("#",mapping,location);var _pushState=window.history.pushState;window.history.pushState=function(){_pushState.apply(this,arguments);var indexEt=location.href.indexOf("#");if(indexEt=="-1"){_setHier("#",mapping,location.href.match(/\/p(.+)/)[1])}else{_setHier("#",mapping,location.href.match(/#(.+)/)[1])}ha("trackHistory")}}if(modes[i]=="hashchange"){_setHier("#",mapping,location.href);window[!!window.addEventListener?"addEventListener":"attachEvent"]([!!window.addEventListener?"":"on"]+"hashchange",function(){_setHier("#",mapping,location.href.match(/#(.+)/)[1]);ha("trackHistory")},false)}if(modes[i]=="hwframejump"){_setHier("#!",mapping,location.href);window[!!window.addEventListener?"addEventListener":"attachEvent"]([!!window.addEventListener?"":"on"]+"hashchange",function(){_setHier("#!",mapping,location.href.match(/#!(.+)/)[1]);ha("trackHistory")},false)}}}else{_setHier(location.host,mapping,location.href)}},setOprListener:function(autoSend,eles,keepValue){if(!autoSend){return}eles=eles||["select","textarea","input"];function _hasItem(array,item){if(Array.prototype.indexOf){return array.indexOf(item)!=-1}else{for(var i=0;i<array.length;i++){if(item==array[i]){return true}}}}addEventListener(window,"click",function(e){try{var el=e.srcElement||e.target;if(el.disabled&&!el.tagName){return}var tn=el.tagName.toLowerCase();var tp=el.type&&el.type.toLowerCase();if(!_hasItem(eles,tn)&&!_hasItem(eles,tp||"")){return}el.hwadata=el.hwadata||{};if(((tn=="input"&&tp=="text")||tn=="textarea")){var blurfn=function(e){removeEventListener(el,"blur",blurfn);el.hwadata.endTime=new Date().getTime();el.hwadata.endValue=el.value;if(!keepValue){delete el.hwadata.endValue;delete el.hwadata.startValue}var obj=_extend(true,el.hwadata,{"dimension1":el.attributes["id"]!=null?el.attributes["id"].value:null,"dimension2":el.attributes["name"]!=null?el.attributes["name"].value:null,opr_wf_n:el.id+"输入框操作",opr_wf_d:el.hwadata.endTime-el.hwadata.startTime,data:JSON.stringify(el.hwadata)});if(window.ha){ha("trackEvent","input-opr",obj)}delete el.hwadata};el.hwadata.startTime=el.hwadata.startTime||new Date().getTime();el.hwadata.startValue=el.hwadata.startValue||el.value;addEventListener(el,"blur",blurfn)}if(tn=="select"){var cur=el.options[el.selectedIndex].value;if(typeof el.hwadata.startValue==="undefined"||el.hwadata.startValue===cur){el.hwadata.startValue=cur;el.hwadata.startTime=new Date().getTime()}else{el.hwadata.endTime=new Date().getTime();el.hwadata.endValue=cur;if(!keepValue){delete el.hwadata.endValue;delete el.hwadata.startValue}var obj=_extend(true,el.hwadata,{"dimension1":el.attributes["id"]!=null?el.attributes["id"].value:null,"dimension2":el.attributes["name"]!=null?el.attributes["name"].value:null,opr_wf_n:el.id+"下拉框操作",opr_wf_d:el.hwadata.endTime-el.hwadata.startTime,data:JSON.stringify(el.hwadata)});
if(window.ha){ha("trackEvent","select-opr",obj)}delete el.hwadata}}if(tn=="input"&&tp=="radio"){if(window.ha){ha("trackEvent","radio-opr",{"dimension1":el.attributes["id"]!=null?el.attributes["id"].value:null,"dimension2":el.attributes["name"]!=null?el.attributes["name"].value:null,opr_wf_n:(el.name||el.id)+"单选框操作"})}}if(tn=="input"&&tp=="checkbox"){if(window.ha){ha("trackEvent","checkbox-opr",{"dimension1":el.attributes["id"]!=null?el.attributes["id"].value:null,"dimension2":el.attributes["name"]!=null?el.attributes["name"].value:null,opr_wf_n:(el.name||el.id)+"复选框操作"})}}}catch(e){}},false)},setAutoLinkTracking:function(flag){autoLinkTracking=flag},trackGoal:function(idGoal,customRevenue,data){trackCallback(function(){logGoal({"idgoal":idGoal,"revenue":customRevenue},data)})},trackEvent:function(etype,data){trackCallback(function(){var request=getRequest(mixin({"action":etype},mapData(data)));sendRequest(request,configTrackerPause)})},trackLink:function(sourceUrl,linkType,customData){trackCallback(function(){logLink(sourceUrl,linkType,customData)})},trackPageView:function(data){trackCallback(function(){logPageView(data)})},trackBtnPerf:function(fg,cls,fn){if(autoSendBtnPerf||fg){if(window.isOverwriteXHR){return}window.isOverwriteXHR=true;var _XHR=window.XMLHttpRequest||window.ActiveXObject;var XHR=function(){var key,ev,xhr;xhr=new _XHR(arguments[0]);var open=function(){if(window.event){window.event.timePoint=window.event.timePoint||new Date().getTime();ev=window.event}xhr.event=ev||window.event;if(xhr.event&&(xhr.event.srcElement||xhr.event.target)){var et=xhr.event,el,srcEl,n=1;do{el=srcEl=et.srcElement||et.target;if(el&&typeof el.isoprxhr==="boolean"&&el.isoprxhr===false){xhr.isoprxhr=false}key=et.timePoint;et=el?el.event:"";n++}while(et&&el!=window&&n<20&&el.isoprxhr!==false);if(xhr.isoprxhr){var sendflag=false,n=0;while(!sendflag&&n<3){sendflag=(el&&el.tagName&&(el.tagName.toUpperCase()==="BUTTON"||(el.tagName.toUpperCase()==="INPUT"&&el.type.toUpperCase()==="BUTTON")));for(var i=0,reg;i<cls.length;i++){if(cls[i] instanceof RegExp){reg=cls[i]}else{reg=new RegExp("(^|(\\s+))"+cls[i]+"((\\s+)|$)")}if(el.className&&reg.test(el.className)){sendflag=true}}if(!sendflag){el=el.parentNode||el;n=el?(n+1):3}}if(fn){if(!sendflag){el=srcEl}if(el&&el.tagName&&(fn(el)!==false)){sendflag=true}else{sendflag=false}}if(sendflag){var statechange=function(){try{if((xhr.readyState==4)&&(xhr.status==200||xhr.status==204)){(typeof window.hwaReqRecord[key].traceIDs!=="undefined")?window.hwaReqRecord[key].traceIDs.push({traceid:xhr.traceId,url:xhr.responseURL}):(window.hwaReqRecord[key].traceIDs=[]).push({traceid:xhr.traceId,url:xhr.responseURL});window.hwaReqRecord[key].endTime=new Date().getTime();setTimeout(function(){try{if(!--window.hwaReqRecord[key].ajaxNum&&el&&el.tagName){delete window.hwaReqRecord[key].ajaxNum;var obj={"dimension1":el.attributes["id"]!=null?el.attributes["id"].value:null,"dimension2":el.attributes["name"]!=null?el.attributes["name"].value:null,"opr_wf_d":window.hwaReqRecord[key].endTime-window.hwaReqRecord[key].startTime,"opr_wf_n":el.getAttribute("oprname")||el.innerText||el.title||el.value,"dimension5":key,"data":JSON.stringify(window.hwaReqRecord[key])};if(el.getAttribute("hier")){obj["page_hierarchy"]=el.getAttribute("hier")}if(obj.opr_wf_n){ha("trackEvent","click",obj)}if(isFF()){window.event=undefined}}}catch(e){}},100)}}catch(e){}};if(!!window.addEventListener){xhr.addEventListener("readystatechange",statechange,false)}else{xhr.onreadystatechange=function(){statechange.apply(this,arguments)}}}}}if(key){window.hwaReqRecord=window.hwaReqRecord||{};window.hwaReqRecord[key]=window.hwaReqRecord[key]||{};window.hwaReqRecord[key].startTime=typeof window.hwaReqRecord[key].ajaxNum!=="undefined"?window.hwaReqRecord[key].startTime:new Date().getTime();window.hwaReqRecord[key].ajaxNum=(typeof window.hwaReqRecord[key].ajaxNum!=="undefined")?++window.hwaReqRecord[key].ajaxNum:1}};if(isFF()){var _send=xhr.send;xhr.send=function(){try{open()}catch(e){}return _send.apply(xhr,arguments)}}else{try{if(window.event&&(window.event.type=="readystatechange"||window.event.type=="click")){xhr.isoprxhr=true;open()}else{xhr.isoprxhr=false}}catch(e){}}return xhr};if(window.XMLHttpRequest){window.XMLHttpRequest=XHR}else{window.ActiveXObject=XHR}}},trackHistory:function(data){trackCallback(function(){logHistory();historyChangeHandler(data)})},trackAjax:function(data){if(typeof g_hwa_disable_trackajax!="undefined"&&g_hwa_disable_trackajax==true){return}if(window.addEventListener&&window.XMLHttpRequest){btnclasses=btnclasses.concat(["hwa-click"]||[]);var _XMLHttpRequest=window.XMLHttpRequest;window.XMLHttpRequest=function(){var e,req,startTime,_open,_send,_datalist,_isignore_url;var temp_url;var isButton=false;req=new _XMLHttpRequest;try{_open=req.open;req.open=function(type,url,async){req.isoprxhr,req.isnewpagexhr;if(window.event){for(var i=0,reg;i<btnclasses.length;i++){if(btnclasses[i] instanceof RegExp){reg=btnclasses[i]}else{reg=new RegExp(btnclasses[i])
}if((window.event&&window.event.srcElement&&reg.test(window.event.srcElement.className))||(window.event&&window.event.originalTarget&&reg.test(window.event.originalTarget.className))){isButton=true}}if(window.event&&window.event.type=="click"&&isButton&&window.event.isTrusted==true){req.isoprxhr=true;req.isnewpagexhr=false}else{req.isoprxhr=false;req.isnewpagexhr=true}var _target=window.event&&(window.event.srcElement||window.event.target);if(_target&&_target.isoprxhr){req.isoprxhr=true;req.isnewpagexhr=false}}if(!perf_url_ignore_p.test(url)){var e;temp_url=url;try{startTime=null;_datalist={};_datalist.kind=type||null;if(window.event){_datalist.initTime=asyn_pv_sendtime;_datalist.eventPhase=window.event.eventPhase;_datalist.ts=window.event.timeStamp;_datalist.timePoint=window.event.timePoint||null;_datalist.eventTime=(asyn_pv_sendtime+window.event.timeStamp).toString().substr(0,13);_datalist.src=(window.event.srcElement&&(window.event.srcElement.innerText||window.event.srcElement.innerHTML||window.event.srcElement.title||window.event.srcElement.value||window.event.srcElement.tagName||window.event.srcElement.responseURL))||(window.event.originalTarget&&window.event.originalTarget.innerHTML)||null;_datalist.type=window.event.type}_datalist.isoprxhr=req.isoprxhr;_datalist.isnewpagexhr=req.isnewpagexhr;var s_begin=function(_event){try{var dur,codeMapping;codeMapping={1:"sending",2:"headers",3:"waiting",4:"receiving"};var tmp1=new Date().getTime();if(typeof configIgnore.aIgnoreAjaxUrl=="object"){var xhrMapping=configIgnore.aIgnoreAjaxUrl;for(var i=0;i<xhrMapping.length;i++){for(var xhrurl in xhrMapping[i]){var reg=new RegExp(xhrurl);if(reg.test(url)&&xhrurl){var tmp2=new Date().getTime()-tmp1;console.log("hwaxhrignore",tmp2,xhrurl,xhrMapping[i][xhrurl]);_isignore_url=true;_datalist.ignoreInfo=xhrMapping[i][xhrurl].substring(0,15);_datalist.ignoreRegExp=xhrurl}}}}if(startTime==null){startTime=new Date().getTime();_datalist.ot=startTime}if(req.readyState==1){var _now=new Date().getTime();var time_tmp=_now-startTime;_datalist.url=url;if(!req.isoprxhr&&!_isignore_url&&!req.ajaxpage_flag&&_now-asyn_pv_sendtime<5000&&has_page_ajax_load){req.ajaxpage_flag=1;perf_ajaxpage_in=++perf_ajaxpage_in;if(perf_ajaxpage_min_time==0){perf_ajaxpage_min_time=startTime}}return}if(startTime==null){return}dur=new Date().getTime()-startTime;(_datalist[codeMapping[req.readyState]])=dur}catch(e){}};req.addEventListener("readystatechange",s_begin,false);var s_end=function(url){try{if(typeof _datalist!="undefined"&&typeof _datalist.url!="undefined"&&startTime>=asyn_pv_sendtime){var _now=new Date().getTime();_datalist.tt=(_now-startTime);if(perf_ajaxpage_firstloadtime==0){perf_ajaxpage_firstloadtime=_now}if(req.ajaxpage_flag==1){perf_ajaxpage_out=++perf_ajaxpage_out;perf_ajaxpage_max_time=_now<asyn_pv_sendtime?(asyn_pv_sendtime+_datalist.tt):_now}perf_event_q.push(_datalist);if(perf_send_status=="sleeping"){perf_send_status="ready";perfTimer=setTimeout(sendPerfQueue,4000)}}}catch(e){}};req.addEventListener("loadend",s_end,true)}catch(_error){e=_error;hwaLog("HWA error monitoring XHR open call->"+e.message)}}return _open.apply(req,arguments)};_send=req.send;req.send=function(){return _send.apply(req,arguments)}}catch(_error){e=_error;hwaLog("HWA error monitoring XHR->"+e.message)}return req}}else{if(typeof $!="undefined"||typeof jQuery!="undefined"){try{var _jq=(typeof $!="undefined"&&$(document)!=null&&typeof $(document).ajaxSend=="function")?$:jQuery;if(_jq&&typeof _jq(document).ajaxSend=="function"){_jq(document).ajaxSend(function(a,b,c){try{if(!perf_url_ignore_p.test(c.url)){var _now=new Date().getTime();if(perf_ajaxpage_firstloadtime==0&&_now-asyn_pv_sendtime<5000&&has_page_ajax_load){c.ajaxpage_flag=1;perf_ajaxpage_in=++perf_ajaxpage_in;if(perf_ajaxpage_min_time==0){perf_ajaxpage_min_time=_now}ajaxthreshold_time=((perf_ajaxpage_firstloadtime-asyn_pv_sendtime)>2000)?5000:5000}else{if(perf_ajaxpage_firstloadtime>0&&(_now-perf_ajaxpage_firstloadtime<=ajaxthreshold_time)&&has_page_ajax_load){c.ajaxpage_flag=1;perf_ajaxpage_in=++perf_ajaxpage_in}}c.st=_now}}catch(e){}});_jq(document).ajaxComplete(function(a,b,c){try{if(!perf_url_ignore_p.test(c.url)){var _now=new Date().getTime();var _dur=_now-c.st;if(perf_ajaxpage_firstloadtime==0){perf_ajaxpage_firstloadtime=_now}var haBIStructure={"url":c.url,"st":c.st,tt:_dur};if(c.ajaxpage_flag==1){perf_ajaxpage_out=++perf_ajaxpage_out;perf_ajaxpage_max_time=_now}if(typeof _dur=="number"){perf_event_q.push(haBIStructure);if(perf_send_status=="sleeping"){perf_send_status="ready";perfTimer=setTimeout(sendPerfQueue,4000)}}}}catch(e){}})}}catch(e){}}}},trackPerformance:function(customTitle,customData,dryrun){trackCallback(function(){logPerformance(customTitle,customData,dryrun)})},setPerfManual:function(perfor){trackCallback(function(){logPerformance("Manual",perfor)})},trackiFramePerformance:function(){logiFramePerf()},trackSiteSearch:function(type,data){trackCallback(function(){logSiteSearch(type,data)})},getNewPageId:function(){pageIdBeforeHashChange=pageId;
var sesname=getCookieName("ses"),id=loadVisitorIdCookie(),ses=getCookie(sesname),uuid=id[1];pageId=hash(uuid+ses+(new Date()-0));return pageId},getTime:function(){return(new Date).getTime()},trim:function(str){if(String.prototype.trim){return str.trim()}else{return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},isUndefined:function(e){return"undefined"==typeof e},genCssSelector:function(e){var ha__=this;for(var t="";e;){var n=e.nodeName.toLowerCase();if("body"==n){return"body>"+t}var r=e.id.replace(/([\!\\"#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\]\^\`\{\|\}\~])/g,"\\\\$1"),o="string"==typeof e.className?ha__.trim(e.className).split(/\s+/).join("."):"";if(""!==o&&(o="."+o),r){return r="#"+r,""!=t&&(t=">"+t),t=n+r+t}var i=n,a=e.parentNode,s=1,c=a&&a.childNodes&&a.childNodes.length;if(c>1){for(var u=0;u<c&&a.childNodes[u]!=e;u++){var f=a.childNodes[u].tagName;void 0!==f&&(s+=1)}}""!=t&&(t=">"+t),t=c>1?i+":nth-child("+s+")"+t:i+t,e=a}},getGroupElementsBySelector:function(e){for(var t=[],n=0;n<e.length;n++){for(var o=document.querySelectorAll(e[n]),i=0,a=o.length;i<a;i++){t.push(o[i])}}return t},textContent:function(e,t){var ha__=this;var n=function(e){return"string"!=typeof e?"":ha__.trim(e).substring(0,100)},r=e.textContent;return ha__.isUndefined(t)?n(ha__.isUndefined(r)?e.innerText:r):void (ha__.isUndefined(r)?e.innerText=t:e.textContent=t)},stringifyCssObj:function(e){var t=[];for(var n in e){Object.prototype.hasOwnProperty.call(e,n)&&t.push(n+":"+e[n])}return t.join("; ")+";"},isAncestor:function(e,t){for(;t&&1===t.nodeType;){if(t===e){return !0}t=t.parentNode}return !1},on:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},off:function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent("on"+t,n)},monitorOperation:function(){var ha__=this;var e=ha__.getGroupElementsBySelector(["button","a","input[type=button], input[type=submit]","span[id=btnSearch]"]),t=function(t){e=ha__.getGroupElementsBySelector(["button","a","input[type=button], input[type=submit]","span[id=btnSearch]"]);for(var n=t.target||t.srcElement,r=0,o=e.length;r<o;r++){var i=e[r];if(ha__.isAncestor(i,n)){var a="",s="",c=i.tagName.toLowerCase();switch(c){case"a":a=decodeURIComponent(i.href)||"",s=ha__.textContent(i);break;case"button":s=ha__.textContent(i);break;case"input":s=i.value||"";break;case"span":s=ha__.textContent(i);break}var u={eventType:"onclick",dataTimestamp:ha__.getTime(),buttonSelector:ha__.genCssSelector(i),buttonTargetPath:a,buttonText:s}}}},o=function(e){var t=e.target||e.srcElement,o=e.clientX,i=e.clientY;if(t!=document&&t!=document.body&&t!=document.documentElement&&(0!=o||0!=i)){var a=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,s=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;var _now=new Date().getTime();if(ajaxthreshold_time==0&&_now>asyn_pv_sendtime&&(_now-asyn_pv_sendtime)>1079&&(_now-asyn_pv_sendtime)<5000){ajaxthreshold_time=_now-asyn_pv_sendtime}}},i=function(e){t(e),o(e)};return this.on(document,"click",i,!1),function(){this.off(document,"click",i,!1)}},f:[],execQ:function(aArgs){var exec=function(args){try{var method=args[0];if(this[method]&&this[method].apply){method!=="exec"&&this[method].apply(this,[].slice.call(args,1));return !0}}catch(e){}};aArgs=this.f.concat(aArgs);for(this.f=[];aArgs.length>0;aArgs.shift()){!exec.call(this,aArgs[0])&&this.f.push(aArgs[0])}}}}addEventListener(windowAlias,"beforeunload",beforeUnloadHandler,false);addReadyListener();Date.prototype.getTimeAlias=Date.prototype.getTime;asyncTracker=new Tracker();asyncTracker.execQ(windowAlias.ha.q);asyncTracker.trackiFramePerformance();asyncTracker.monitorOperation();setTimeout(function(){if(autoSendPV){asyncTracker.trackPageView();asyncTracker.trackPerformance(null,null)}},0);if(autoLinkTracking){asyncTracker.enableLinkTracking()}asyncTracker.trackAjax();asyncTracker.trackBtnPerf(autoSendBtnPerf,btnclasses||[],beforeBtnSendFn);windowAlias.ha=function(){asyncTracker.execQ([arguments])};return{addPlugin:function(pluginName,pluginObj){plugins[pluginName]=pluginObj},getTracker:function(piwikUrl,siteId){return new Tracker(piwikUrl,siteId)},getAsyncTracker:function(){return asyncTracker}}}());